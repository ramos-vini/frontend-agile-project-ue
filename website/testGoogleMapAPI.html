<!DOCTYPE html>
<html>
<head>
 <title>Google Maps API Test</title>
 <script src="https://maps.googleapis.com/maps/api/js?key='Geocoding API'" async defer></script>
</head>
<body>
    <h1>Google Maps Test</h1>
 <div id="map"></div>
        <script type="text/javascript">
            function iniMap(){
                
                var weatherOn = false;
                var mapOptions = {
                zoom: 13,
                center: new google.maps.LatLng(51.5,-0.11)
                }
                var map = new google.maps.Map(document.getElementById("map"), mapOptions);
            
//                var transitLayer = new google.maps.TransitLayer();
//            
//                transitLayer.setMap(map);
                var weatherLayer = new google.maps.weather.WeatherLayer({
                    temperatureUnits : google.maps.weather.TemperatureUnit.CELSIUS
                });
               weatherLayer.setMap(map); //google.maps.event.addDomListener(document.getElementById("weatherToggle"), 'click', function() {
//                    if ( weatherLayer.getMap() != null ){
//                        weatherLayer.setMap(null);
//                    }else {
//                        weatherLayer.setMap(map);
//                    }
//                });
                
            }
            window.onload = iniMap;
            //google.maps.event.addDomListener(window, 'load', iniMap);

            
        </script>
</body>
</html>